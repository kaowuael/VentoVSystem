# ğŸ“¦ Bazowy obraz: Ubuntu 22.04
FROM ubuntu:22.04

# ğŸ”§ Ustawienie zmiennych Å›rodowiskowych (Å¼eby uniknÄ…Ä‡ bÅ‚Ä™dÃ³w)
ENV DEBIAN_FRONTEND=noninteractive

# ğŸ›  Instalujemy Node.js + npm
RUN apt update && \
    apt install -y curl && \
    curl -fsSL https://deb.nodesource.com/setup_18.x | bash - && \
    apt install -y nodejs

# ğŸ“‚ Katalog roboczy
WORKDIR /app

# ğŸ“„ Kopiujemy package.json i lock
COPY package*.json ./

# ğŸ“¦ Instalujemy zaleÅ¼noÅ›ci (w tym dev, np. nodemon)
RUN npm install --include=dev

# ğŸ“ Kopiujemy resztÄ™ backendu
COPY . .

# ğŸš€ DomyÅ›lna komenda
CMD ["node", "src/index.js"]
